/**
 * UIRefreshControl.js 1.0
 * HTML5 port of Apple iOS 6 UIRefreshControl.
 * https://github.com/CaffeinaLab/UIRefreshControl.js
 *
 * Caffeina Srl (c) 2013 http://caffeinalab.com
 *
 * @author Flavio De Stefano <flavio.destefano@caffeinalab.com>
 * @author Stefano Azzolini <stefano.azzolini@caffeinalab.com>
 */

window.UIRefreshControl=function(t,p){var l=this,q=document.getElementById(t),j=q.getContext("2d"),v=q.width,w=q.height,h=v>>1,m=new Image,k={circleUpScale:0.8,circleDownScale:0.2,easingFactor:1,innerX:0.5,background:"#9BA2AC",foreground:"#888",image:"data:image/png;base64,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"};
if(p)for(var n in p)k[n]&&(k[n]=p[n]);m.src=k.image;j.fillStyle=k.background;j.strokeStyle=k.foreground;l.easingCircle=function(f,g){return h*(1+(g-1)*Math.pow(f,k.easingFactor))};l.drawBezier=function(f){j.bezierCurveTo(f[0],f[1],f[2],f[3],f[4],f[5])};l.drawArc=function(f,g,h,j){var k=2*h,m=0.05*k;a=j?m:-m;b=g+(j?1.33334*-h:1.33334*h);c=f-h;d=j?k:0;e=j?0:k;l.drawBezier([c+e+a,b,c+d-a,b,c+d,g])};l.draw=function(f){var g=l.easingCircle(f,k.circleUpScale),r=l.easingCircle(f,k.circleDownScale);f=g+f*
(w-g-r);var s=f-g,p=h+g,q=h-g,n=g+0.1*s,t=h+r,y=h-r,s=f-0.5*s,u=1.2*g,x=0.5*u;j.clearRect(0,0,v,w);j.beginPath();j.moveTo(h-g,g);l.drawArc(h,g,g,!0);l.drawBezier([p,n,t,s,h+r,f]);l.drawArc(h,f,r,!1);l.drawBezier([y,s,q,n,h-g,g]);j.closePath();j.fill();j.stroke();j.drawImage(m,0,0,m.width,m.height,h-x,g-x,u,u)}};